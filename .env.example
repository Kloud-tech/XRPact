# XRPL Impact Fund - Environment Configuration
# Copy this file to .env and configure with your values

# ============================================================================
# XRPL CONFIGURATION
# ============================================================================

# Network mode: mock | testnet | mainnet | devnet
# Use 'mock' for demo without blockchain, 'testnet' for testing with real XRPL
XRPL_NETWORK=mock

# XRPL Node WebSocket URL
# Testnet: wss://s.altnet.rippletest.net:51233
# Mainnet: wss://xrplcluster.com
# Leave empty for mock mode
XRPL_WEBSOCKET_URL=wss://s.altnet.rippletest.net:51233

# Pool wallet credentials (for signing transactions)
# Generate at: https://xrpl.org/xrp-testnet-faucet.html
# NEVER commit real mainnet seeds!
XRPL_POOL_WALLET_SEED=sEdXXXXXXXXXXXXXXXXXXXXXXXXXXXX
XRPL_POOL_WALLET_ADDRESS=rXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================

# Backend API port
PORT=3000

# Node environment: development | production | test
NODE_ENV=development

# API base URL (for CORS and client configuration)
API_BASE_URL=http://localhost:3000

# CORS allowed origins (comma-separated)
CORS_ORIGIN=http://localhost:5173,http://localhost:3000

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# PostgreSQL connection string (Note: Port 5433 to avoid local installation conflicts)
DATABASE_URL=postgresql://xrpl_user:xrpl_password@localhost:5433/xrpl_impact_fund

# Enable database connection (set to 'false' to use in-memory storage for demo)
DATABASE_ENABLED=false

# Database pool configuration
DB_POOL_MIN=2
DB_POOL_MAX=10

# PostgreSQL Docker settings
POSTGRES_USER=xrpl_user
POSTGRES_PASSWORD=xrpl_password
POSTGRES_DB=xrpl_impact_fund
POSTGRES_PORT=5433

# ============================================================================
# REDIS CONFIGURATION
# ============================================================================

# Redis connection URL
REDIS_URL=redis://localhost:6379

# Enable Redis caching (set to 'false' for demo without Redis)
REDIS_ENABLED=false

# Redis cache TTL in seconds
REDIS_CACHE_TTL=3600

# Redis Docker settings
REDIS_PORT=6379

# ============================================================================
# AI TRADING CONFIGURATION
# ============================================================================

# Enable AI trading simulation
AI_TRADING_ENABLED=true

# Trading algorithm execution interval in hours
AI_TRADING_INTERVAL_HOURS=24

# Maximum position size as percentage of pool balance (0.1 = 10%)
AI_MAX_POSITION_SIZE=0.10

# Risk tolerance: conservative | moderate | aggressive
AI_RISK_TOLERANCE=conservative

# Mock profit range for demo (percentage)
AI_MOCK_PROFIT_MIN=0.1
AI_MOCK_PROFIT_MAX=2.0

# Technical indicator periods
AI_SMA_SHORT_PERIOD=50
AI_SMA_LONG_PERIOD=200
AI_RSI_PERIOD=14

# ============================================================================
# IMPACT ORACLE CONFIGURATION
# ============================================================================

# NGO validation cache duration (hours)
ORACLE_CACHE_DURATION_HOURS=24

# Impact score thresholds
ORACLE_MIN_SCORE_FOR_VERIFICATION=70
ORACLE_MAX_RED_FLAGS=2

# External validation APIs (optional)
IMPACT_ORACLE_API_KEY=your_api_key
UN_DATA_API_URL=https://data.un.org/api
OECD_DATA_API_URL=https://stats.oecd.org/api
CHARITY_NAVIGATOR_API_KEY=

# ============================================================================
# FRONTEND CONFIGURATION
# ============================================================================

# Frontend Vite server port
VITE_PORT=5173

# Backend API URL for frontend
VITE_API_URL=http://localhost:3000

# XRPL network for frontend display
VITE_XRPL_NETWORK=mock

# Enable analytics tracking
VITE_ENABLE_ANALYTICS=false

# Auto-refresh interval for dashboard (milliseconds)
VITE_REFRESH_INTERVAL=5000

# ============================================================================
# SECURITY CONFIGURATION
# ============================================================================

# JWT secret for authentication (generate random string)
JWT_SECRET=your_jwt_secret_change_this_in_production

# JWT expiration time
JWT_EXPIRES_IN=7d

# Encryption key for sensitive data (32 characters minimum)
ENCRYPTION_KEY=your_encryption_key_32_characters

# Rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ============================================================================
# EXTERNAL SERVICES (OPTIONAL)
# ============================================================================

# Mapbox API for location visualization
MAPBOX_API_KEY=your_mapbox_key_for_impact_map

# Pinata for IPFS NFT metadata storage
PINATA_API_KEY=your_pinata_key_for_nft_metadata
PINATA_SECRET_KEY=your_pinata_secret

# Sentry for error tracking
SENTRY_DSN=
SENTRY_ENVIRONMENT=development

# SendGrid for email notifications
SENDGRID_API_KEY=
NOTIFICATION_EMAIL_FROM=noreply@xrplimpactfund.org

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================

# Log level: error | warn | info | debug
LOG_LEVEL=info

# Log file paths
LOG_FILE_ERROR=logs/error.log
LOG_FILE_COMBINED=logs/combined.log

# Enable console logging
LOG_CONSOLE=true

# ============================================================================
# DEMO MODE SETTINGS
# ============================================================================

# Enable demo mode with pre-populated data
DEMO_MODE=true

# Number of mock NGOs to seed
DEMO_NGO_COUNT=5

# Number of mock donors to seed
DEMO_DONOR_COUNT=3

# Initial pool balance for demo (XRP)
DEMO_INITIAL_POOL_BALANCE=0

# Auto-seed data on startup
AUTO_SEED_NGOS=true
AUTO_SEED_DONORS=false

# Auto-trigger AI trading simulation interval (minutes, 0 to disable)
DEMO_AUTO_TRADING_INTERVAL=0

# ============================================================================
# FEATURE FLAGS
# ============================================================================

# Enable features for testing/development
FEATURE_NFT_EVOLUTION=true
FEATURE_DIT_TOKENS=true
FEATURE_GOVERNANCE_VOTING=true
FEATURE_IMPACT_ORACLE=true
FEATURE_CLIMATE_MODE=true
FEATURE_LEADERBOARD=true

# ============================================================================
# GAMIFICATION CONFIGURATION
# ============================================================================

# XP per XRP donated
XP_PER_XRP=10

# XP required for level calculation divisor
XP_LEVEL_DIVISOR=100

# NFT evolution thresholds (levels)
NFT_BRONZE_LEVEL=1
NFT_SILVER_LEVEL=5
NFT_GOLD_LEVEL=10
NFT_PLATINUM_LEVEL=20
NFT_DIAMOND_LEVEL=50

# ============================================================================
# GOVERNANCE CONFIGURATION
# ============================================================================

# Enable governance features
GOVERNANCE_ENABLED=true

# Minimum DIT tokens to create proposal
GOVERNANCE_MIN_TOKENS_TO_PROPOSE=100

# Proposal voting duration (days)
GOVERNANCE_VOTING_DURATION_DAYS=7

# Quorum percentage required for proposal to pass
GOVERNANCE_QUORUM_PERCENTAGE=20

# ============================================================================
# PERFORMANCE TUNING
# ============================================================================

# API response cache duration (seconds)
API_CACHE_DURATION=60

# Maximum concurrent XRPL connections
XRPL_MAX_CONNECTIONS=10

# Request timeout (milliseconds)
REQUEST_TIMEOUT=30000

# File upload size limit (MB)
MAX_UPLOAD_SIZE_MB=10
