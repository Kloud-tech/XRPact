# ğŸ—ï¸ Architecture XRPL Service Enhanced

## ğŸ“ Architecture globale

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         FRONTEND (React)                                 â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚  Donation    â”‚  â”‚   Impact     â”‚  â”‚  Emergency   â”‚                 â”‚
â”‚  â”‚  Interface   â”‚  â”‚   NFT        â”‚  â”‚    Panel     â”‚                 â”‚
â”‚  â”‚              â”‚  â”‚   Gallery    â”‚  â”‚              â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â”‚ REST API + WebSocket
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     EXPRESS.JS SERVER                                    â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    API ROUTES                                     â”‚  â”‚
â”‚  â”‚                                                                   â”‚  â”‚
â”‚  â”‚  POST   /api/v1/donations          - Create donation            â”‚  â”‚
â”‚  â”‚  GET    /api/v1/donations/:address - Get history                â”‚  â”‚
â”‚  â”‚  GET    /api/v1/pool/balance       - Get pool balance           â”‚  â”‚
â”‚  â”‚  GET    /api/v1/pool/state         - Get pool state             â”‚  â”‚
â”‚  â”‚  POST   /api/v1/pool/calculate-profit - Calculate profit        â”‚  â”‚
â”‚  â”‚  POST   /api/v1/pool/redistribute  - Redistribute to NGOs       â”‚  â”‚
â”‚  â”‚  POST   /api/v1/emergency/trigger  - Trigger emergency          â”‚  â”‚
â”‚  â”‚  GET    /api/v1/stats              - Get statistics             â”‚  â”‚
â”‚  â”‚  GET    /api/v1/health             - Health check               â”‚  â”‚
â”‚  â”‚                                                                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                              â”‚                                           â”‚
â”‚                              â–¼                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              XRPL SERVICE ENHANCED (Core)                        â”‚  â”‚
â”‚  â”‚                                                                   â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚  â”‚
â”‚  â”‚  â”‚   Donation   â”‚  â”‚   Profit     â”‚  â”‚  Emergency   â”‚          â”‚  â”‚
â”‚  â”‚  â”‚  Processing  â”‚  â”‚ Calculation  â”‚  â”‚    Mode      â”‚          â”‚  â”‚
â”‚  â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚          â”‚  â”‚
â”‚  â”‚  â”‚ â€¢ Validate   â”‚  â”‚ â€¢ Mock AI    â”‚  â”‚ â€¢ Governance â”‚          â”‚  â”‚
â”‚  â”‚  â”‚ â€¢ Calculate  â”‚  â”‚ â€¢ MA/RSI     â”‚  â”‚ â€¢ Voting     â”‚          â”‚  â”‚
â”‚  â”‚  â”‚   XP/Level   â”‚  â”‚ â€¢ Risk Mgmt  â”‚  â”‚ â€¢ Quorum     â”‚          â”‚  â”‚
â”‚  â”‚  â”‚ â€¢ Mint NFT   â”‚  â”‚              â”‚  â”‚ â€¢ Execute    â”‚          â”‚  â”‚
â”‚  â”‚  â”‚ â€¢ Save DB    â”‚  â”‚              â”‚  â”‚              â”‚          â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚  â”‚
â”‚  â”‚                                                                   â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚  â”‚
â”‚  â”‚  â”‚ Distribution â”‚  â”‚  Logging &   â”‚  â”‚    Retry     â”‚          â”‚  â”‚
â”‚  â”‚  â”‚   Engine     â”‚  â”‚   Monitor    â”‚  â”‚   Handler    â”‚          â”‚  â”‚
â”‚  â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚          â”‚  â”‚
â”‚  â”‚  â”‚ â€¢ Weight     â”‚  â”‚ â€¢ Winston    â”‚  â”‚ â€¢ Backoff    â”‚          â”‚  â”‚
â”‚  â”‚  â”‚ â€¢ Impact     â”‚  â”‚ â€¢ Stats      â”‚  â”‚ â€¢ Timeout    â”‚          â”‚  â”‚
â”‚  â”‚  â”‚   Score      â”‚  â”‚ â€¢ Audit      â”‚  â”‚ â€¢ Validate   â”‚          â”‚  â”‚
â”‚  â”‚  â”‚ â€¢ Send XRPL  â”‚  â”‚              â”‚  â”‚              â”‚          â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚  â”‚
â”‚  â”‚                                                                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                              â”‚                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚                                  â”‚
              â–¼                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   XRPL NETWORK          â”‚        â”‚   POSTGRESQL DB         â”‚
â”‚                         â”‚        â”‚                         â”‚
â”‚  â€¢ Testnet/Mainnet      â”‚        â”‚  Tables:                â”‚
â”‚  â€¢ Ledger Validation    â”‚        â”‚  â”œâ”€ donors              â”‚
â”‚  â€¢ Payment Transactions â”‚        â”‚  â”œâ”€ ngos                â”‚
â”‚  â€¢ NFT Minting (XLS-20) â”‚        â”‚  â”œâ”€ donations           â”‚
â”‚  â€¢ Balance Queries      â”‚        â”‚  â”œâ”€ distributions       â”‚
â”‚                         â”‚        â”‚  â”œâ”€ emergency_funds     â”‚
â”‚  Pool Wallet:           â”‚        â”‚  â”œâ”€ operation_logs      â”‚
â”‚  rXXXXXXXXXXXXX...      â”‚        â”‚  â””â”€ pool_state          â”‚
â”‚                         â”‚        â”‚                         â”‚
â”‚  Mock Mode Available    â”‚        â”‚  Views:                 â”‚
â”‚                         â”‚        â”‚  â”œâ”€ donor_leaderboard   â”‚
â”‚                         â”‚        â”‚  â”œâ”€ ngo_statistics      â”‚
â”‚                         â”‚        â”‚  â””â”€ pool_summary        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Flux de donnÃ©es - Donation complÃ¨te

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Donor     â”‚
â”‚  (Frontend) â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 1. Send donation (100 XRP)
       â”‚    POST /api/v1/donations
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Express.js Server                    â”‚
â”‚                                                  â”‚
â”‚  2. Validate input (Zod)                        â”‚
â”‚     âœ“ Address format                            â”‚
â”‚     âœ“ Amount > 0                                â”‚
â”‚                                                  â”‚
â”‚  3. Call XRPLServiceEnhanced.processDonation()  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         XRPLServiceEnhanced                     â”‚
â”‚                                                  â”‚
â”‚  4. Validate XRPL transaction (if provided)     â”‚
â”‚     â””â”€> XRPL Network: verify TX hash           â”‚
â”‚                                                  â”‚
â”‚  5. Calculate XP & Level                        â”‚
â”‚     XP = amount * 10                            â”‚
â”‚     Level = floor(sqrt(XP/100)) + 1             â”‚
â”‚                                                  â”‚
â”‚  6. Check level up                              â”‚
â”‚     If yes â†’ Mint NFT                           â”‚
â”‚     â””â”€> XRPL Network: NFTokenMint               â”‚
â”‚                                                  â”‚
â”‚  7. Save to database                            â”‚
â”‚     â””â”€> PostgreSQL: INSERT INTO donations       â”‚
â”‚                                                  â”‚
â”‚  8. Update pool state                           â”‚
â”‚     totalBalance += amount                      â”‚
â”‚     donorCount++                                â”‚
â”‚                                                  â”‚
â”‚  9. Log operation                               â”‚
â”‚     â””â”€> Winston: Log success                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”‚ 10. Return result
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Response to Frontend                 â”‚
â”‚                                                  â”‚
â”‚  {                                               â”‚
â”‚    success: true,                               â”‚
â”‚    txHash: "ABC123...",                         â”‚
â”‚    xpGained: 1000,                              â”‚
â”‚    newLevel: 11,                                â”‚
â”‚    levelUp: true,                               â”‚
â”‚    nftMinted: true,                             â”‚
â”‚    nftTokenId: "NFT_TOKEN_456...",              â”‚
â”‚    poolBalance: 10100                           â”‚
â”‚  }                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’° Flux de donnÃ©es - Calcul & Redistribution

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Cron Job   â”‚  (Daily at 00:00 UTC)
â”‚  / Manual   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 1. Trigger profit calculation
       â”‚    POST /api/v1/pool/calculate-profit
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         XRPLServiceEnhanced                     â”‚
â”‚                                                  â”‚
â”‚  2. Get current pool balance                    â”‚
â”‚     Balance = 10,000 XRP                        â”‚
â”‚                                                  â”‚
â”‚  3. Mock AI Trading Algorithm                   â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚     â”‚ Generate market data       â”‚              â”‚
â”‚     â”‚ â€¢ 200 candles              â”‚              â”‚
â”‚     â”‚ â€¢ MA50, MA200              â”‚              â”‚
â”‚     â”‚ â€¢ RSI                      â”‚              â”‚
â”‚     â”‚                            â”‚              â”‚
â”‚     â”‚ Calculate signal           â”‚              â”‚
â”‚     â”‚ â€¢ BUY / SELL / HOLD        â”‚              â”‚
â”‚     â”‚                            â”‚              â”‚
â”‚     â”‚ Calculate profit           â”‚              â”‚
â”‚     â”‚ â€¢ Target: 0.67%            â”‚              â”‚
â”‚     â”‚ â€¢ Actual: 0.67 - 2.0%      â”‚              â”‚
â”‚     â”‚ â€¢ Profit = 67 XRP          â”‚              â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                  â”‚
â”‚  4. Update pool balance                         â”‚
â”‚     Balance = 10,067 XRP                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”‚ 5. Trigger redistribution
                   â”‚    POST /api/v1/pool/redistribute
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         XRPLServiceEnhanced                     â”‚
â”‚                                                  â”‚
â”‚  6. Get validated NGOs                          â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚     â”‚ NGO 1: Climate (score: 95)  â”‚             â”‚
â”‚     â”‚   Weight: 25%                â”‚             â”‚
â”‚     â”‚   Share: 16.75 XRP           â”‚             â”‚
â”‚     â”‚                              â”‚             â”‚
â”‚     â”‚ NGO 2: Water (score: 92)    â”‚             â”‚
â”‚     â”‚   Weight: 20%                â”‚             â”‚
â”‚     â”‚   Share: 13.40 XRP           â”‚             â”‚
â”‚     â”‚                              â”‚             â”‚
â”‚     â”‚ NGO 3: Education (score: 88)â”‚             â”‚
â”‚     â”‚   Weight: 20%                â”‚             â”‚
â”‚     â”‚   Share: 13.40 XRP           â”‚             â”‚
â”‚     â”‚                              â”‚             â”‚
â”‚     â”‚ NGO 4: Health (score: 90)   â”‚             â”‚
â”‚     â”‚   Weight: 20%                â”‚             â”‚
â”‚     â”‚   Share: 13.40 XRP           â”‚             â”‚
â”‚     â”‚                              â”‚             â”‚
â”‚     â”‚ NGO 5: Other (score: 85)    â”‚             â”‚
â”‚     â”‚   Weight: 15%                â”‚             â”‚
â”‚     â”‚   Share: 10.05 XRP           â”‚             â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                  â”‚
â”‚  7. Send XRPL payments (with retry)             â”‚
â”‚     â””â”€> XRPL Network: Payment to each NGO      â”‚
â”‚                                                  â”‚
â”‚  8. Verify all transactions                     â”‚
â”‚     â””â”€> XRPL Network: Verify TX on ledger      â”‚
â”‚                                                  â”‚
â”‚  9. Save to database                            â”‚
â”‚     â””â”€> PostgreSQL: INSERT INTO distributions  â”‚
â”‚                                                  â”‚
â”‚  10. Log & return result                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš¨ Flux de donnÃ©es - Emergency Redistribution

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Governance  â”‚  (Earthquake alert)
â”‚   Member    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 1. Trigger emergency
       â”‚    POST /api/v1/emergency/trigger
       â”‚    {
       â”‚      reason: "Earthquake Nepal 7.8",
       â”‚      severity: "critical",
       â”‚      amountRequested: 5000 XRP,
       â”‚      affectedNGOs: ["ngo_1", "ngo_2"]
       â”‚    }
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         XRPLServiceEnhanced                     â”‚
â”‚                                                  â”‚
â”‚  2. Validate request                            â”‚
â”‚     âœ“ Triggerer is authorized                   â”‚
â”‚     âœ“ Amount available in pool                  â”‚
â”‚     âœ“ NGOs are validated                        â”‚
â”‚                                                  â”‚
â”‚  3. Create EmergencyFund record                 â”‚
â”‚     emergencyId: "emergency_1706539935123"      â”‚
â”‚                                                  â”‚
â”‚  4. Simulate governance vote (MOCK)             â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚     â”‚ Severity: CRITICAL          â”‚              â”‚
â”‚     â”‚                            â”‚              â”‚
â”‚     â”‚ Total voting power: 100    â”‚              â”‚
â”‚     â”‚ Votes FOR: 85              â”‚              â”‚
â”‚     â”‚ Votes AGAINST: 15          â”‚              â”‚
â”‚     â”‚                            â”‚              â”‚
â”‚     â”‚ Quorum required: 30%       â”‚              â”‚
â”‚     â”‚ Quorum reached: YES âœ“      â”‚              â”‚
â”‚     â”‚                            â”‚              â”‚
â”‚     â”‚ Approval: 85% FOR          â”‚              â”‚
â”‚     â”‚ Result: APPROVED âœ“         â”‚              â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                  â”‚
â”‚  5. Execute emergency distribution              â”‚
â”‚     Amount per NGO: 2,500 XRP                   â”‚
â”‚                                                  â”‚
â”‚     NGO 1 (Climate Action):                     â”‚
â”‚     â””â”€> XRPL Payment: 2,500 XRP                â”‚
â”‚         Memo: "EMERGENCY: Earthquake Nepal..."  â”‚
â”‚                                                  â”‚
â”‚     NGO 2 (Health):                             â”‚
â”‚     â””â”€> XRPL Payment: 2,500 XRP                â”‚
â”‚         Memo: "EMERGENCY: Earthquake Nepal..."  â”‚
â”‚                                                  â”‚
â”‚  6. Verify all transactions                     â”‚
â”‚     â””â”€> XRPL Network: Validate on ledger       â”‚
â”‚                                                  â”‚
â”‚  7. Update emergency record                     â”‚
â”‚     â””â”€> PostgreSQL: UPDATE emergency_funds     â”‚
â”‚         status = 'executed'                     â”‚
â”‚                                                  â”‚
â”‚  8. Log & notify                                â”‚
â”‚     â””â”€> Winston: Log emergency execution        â”‚
â”‚     â””â”€> WebSocket: Broadcast to stakeholders   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—„ï¸ ModÃ¨le de donnÃ©es PostgreSQL

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        donors           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)                 â”‚
â”‚ address (UNIQUE)        â”‚â—„â”€â”€â”€â”
â”‚ total_donated           â”‚    â”‚
â”‚ xp                      â”‚    â”‚
â”‚ level                   â”‚    â”‚
â”‚ nft_token_id            â”‚    â”‚
â”‚ dit_token_id            â”‚    â”‚
â”‚ donation_count          â”‚    â”‚
â”‚ first_donation_date     â”‚    â”‚
â”‚ last_donation_date      â”‚    â”‚
â”‚ created_at              â”‚    â”‚
â”‚ updated_at              â”‚    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
                               â”‚
                               â”‚ FK
                               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚      donations          â”‚    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚ id (PK)                 â”‚    â”‚
â”‚ donor_address â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”˜
â”‚ amount                  â”‚
â”‚ tx_hash (UNIQUE)        â”‚
â”‚ validated               â”‚
â”‚ ledger_index            â”‚
â”‚ xp_gained               â”‚
â”‚ level                   â”‚
â”‚ level_up                â”‚
â”‚ nft_minted              â”‚
â”‚ nft_token_id            â”‚
â”‚ pool_balance_after      â”‚
â”‚ created_at              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ngos            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)                 â”‚â—„â”€â”€â”€â”
â”‚ name                    â”‚    â”‚
â”‚ wallet_address (UNIQUE) â”‚    â”‚
â”‚ category                â”‚    â”‚
â”‚ verified                â”‚    â”‚
â”‚ impact_score            â”‚    â”‚
â”‚ weight                  â”‚    â”‚
â”‚ certifications          â”‚    â”‚
â”‚ website                 â”‚    â”‚
â”‚ description             â”‚    â”‚
â”‚ country                 â”‚    â”‚
â”‚ registration_number     â”‚    â”‚
â”‚ total_received          â”‚    â”‚
â”‚ last_distribution_date  â”‚    â”‚
â”‚ created_at              â”‚    â”‚
â”‚ updated_at              â”‚    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
                               â”‚
                               â”‚ FK
                               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚    distributions        â”‚    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚ id (PK)                 â”‚    â”‚
â”‚ ngo_id â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”˜
â”‚ amount                  â”‚
â”‚ percentage              â”‚
â”‚ tx_hash (UNIQUE)        â”‚
â”‚ validated               â”‚
â”‚ distribution_type       â”‚
â”‚ emergency_id            â”‚
â”‚ created_at              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   emergency_funds       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)                 â”‚
â”‚ triggered_by            â”‚
â”‚ reason                  â”‚
â”‚ severity                â”‚
â”‚ amount_requested        â”‚
â”‚ amount_distributed      â”‚
â”‚ approval_votes          â”‚
â”‚ rejection_votes         â”‚
â”‚ required_votes          â”‚
â”‚ quorum_reached          â”‚
â”‚ approved                â”‚
â”‚ affected_ngos[]         â”‚
â”‚ status                  â”‚
â”‚ created_at              â”‚
â”‚ executed_at             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    operation_logs       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)                 â”‚
â”‚ operation               â”‚
â”‚ success                 â”‚
â”‚ duration                â”‚
â”‚ details (JSONB)         â”‚
â”‚ error_message           â”‚
â”‚ user_address            â”‚
â”‚ ip_address              â”‚
â”‚ created_at              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      pool_state         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)                 â”‚
â”‚ total_balance           â”‚
â”‚ total_donations         â”‚
â”‚ total_profits_generated â”‚
â”‚ total_distributed       â”‚
â”‚ donor_count             â”‚
â”‚ ngo_count               â”‚
â”‚ donation_count          â”‚
â”‚ distribution_count      â”‚
â”‚ last_trading_run        â”‚
â”‚ last_profit_percentage  â”‚
â”‚ snapshot_date (UNIQUE)  â”‚
â”‚ created_at              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Logging & Monitoring

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Winston Logger                       â”‚
â”‚                                                  â”‚
â”‚  Levels:                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ERROR   â†’ Critical failures            â”‚    â”‚
â”‚  â”‚ WARN    â†’ Emergency, low balance       â”‚    â”‚
â”‚  â”‚ INFO    â†’ Donations, distributions     â”‚    â”‚
â”‚  â”‚ DEBUG   â†’ Transaction details          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                  â”‚
â”‚  Outputs:                                        â”‚
â”‚  â”œâ”€> Console (formatted, colorized)             â”‚
â”‚  â”œâ”€> logs/xrpl-error.log (errors only)          â”‚
â”‚  â””â”€> logs/xrpl-combined.log (all levels)        â”‚
â”‚                                                  â”‚
â”‚  Format: JSON + Timestamp                        â”‚
â”‚  Rotation: Daily                                 â”‚
â”‚  Retention: 30 days                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Operation Logs (In-Memory)              â”‚
â”‚                                                  â”‚
â”‚  Stored in memory (max 1000):                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ operation: "processDonation"           â”‚    â”‚
â”‚  â”‚ success: true                          â”‚    â”‚
â”‚  â”‚ duration: 125ms                        â”‚    â”‚
â”‚  â”‚ details: {...}                         â”‚    â”‚
â”‚  â”‚ timestamp: "2025-01-29T14:32:15Z"     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                  â”‚
â”‚  Accessible via:                                 â”‚
â”‚  â””â”€> GET /api/v1/logs?limit=100                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Statistics Tracking                  â”‚
â”‚                                                  â”‚
â”‚  Real-time metrics:                              â”‚
â”‚  â”œâ”€ Total operations                            â”‚
â”‚  â”œâ”€ Success rate                                â”‚
â”‚  â”œâ”€ Average duration                            â”‚
â”‚  â”œâ”€ Pool state                                  â”‚
â”‚  â”œâ”€ Emergency count                             â”‚
â”‚  â””â”€ Database status                             â”‚
â”‚                                                  â”‚
â”‚  Accessible via:                                 â”‚
â”‚  â””â”€> GET /api/v1/stats                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”’ SÃ©curitÃ© & Validation

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Input Validation (Zod)               â”‚
â”‚                                                  â”‚
â”‚  All API inputs validated:                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ donorAddress:                          â”‚    â”‚
â”‚  â”‚   âœ“ Format: ^r[a-zA-Z0-9]{24,34}$     â”‚    â”‚
â”‚  â”‚   âœ“ XRPL checksum validation           â”‚    â”‚
â”‚  â”‚                                         â”‚    â”‚
â”‚  â”‚ amount:                                â”‚    â”‚
â”‚  â”‚   âœ“ Positive number                    â”‚    â”‚
â”‚  â”‚   âœ“ Max: 1,000,000 XRP                â”‚    â”‚
â”‚  â”‚   âœ“ Finite (no Infinity/NaN)          â”‚    â”‚
â”‚  â”‚                                         â”‚    â”‚
â”‚  â”‚ severity:                              â”‚    â”‚
â”‚  â”‚   âœ“ Enum: low|medium|high|critical    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Transaction Verification                â”‚
â”‚                                                  â”‚
â”‚  XRPL transactions verified:                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ 1. Hash format valid                   â”‚    â”‚
â”‚  â”‚ 2. Transaction exists on ledger        â”‚    â”‚
â”‚  â”‚ 3. Transaction validated               â”‚    â”‚
â”‚  â”‚ 4. Amounts match                       â”‚    â”‚
â”‚  â”‚ 5. Destination correct                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                  â”‚
â”‚  Mode MOCK: Auto-validates                      â”‚
â”‚  Mode LIVE: Queries XRPL ledger                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Retry & Error Handling                 â”‚
â”‚                                                  â”‚
â”‚  Failed operations retry automatically:          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Max retries: 3                         â”‚    â”‚
â”‚  â”‚ Backoff: Exponential                   â”‚    â”‚
â”‚  â”‚   Attempt 1: 1 second                  â”‚    â”‚
â”‚  â”‚   Attempt 2: 2 seconds                 â”‚    â”‚
â”‚  â”‚   Attempt 3: 3 seconds                 â”‚    â”‚
â”‚  â”‚                                         â”‚    â”‚
â”‚  â”‚ Timeout: 30 seconds                    â”‚    â”‚
â”‚  â”‚ Error masking: Sensitive data hidden   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ Deployment Architecture (Production)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CLOUD INFRASTRUCTURE                      â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚  Load Balancer â”‚      â”‚   CloudWatch   â”‚               â”‚
â”‚  â”‚   (AWS ALB)    â”‚      â”‚   Monitoring   â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚           â”‚                                                 â”‚
â”‚           â–¼                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚     Auto Scaling Group (EC2)        â”‚                  â”‚
â”‚  â”‚                                      â”‚                  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚                  â”‚
â”‚  â”‚  â”‚ Instance â”‚    â”‚ Instance â”‚      â”‚                  â”‚
â”‚  â”‚  â”‚    #1    â”‚    â”‚    #2    â”‚      â”‚                  â”‚
â”‚  â”‚  â”‚          â”‚    â”‚          â”‚      â”‚                  â”‚
â”‚  â”‚  â”‚ Express  â”‚    â”‚ Express  â”‚      â”‚                  â”‚
â”‚  â”‚  â”‚  XRPL    â”‚    â”‚  XRPL    â”‚      â”‚                  â”‚
â”‚  â”‚  â”‚ Service  â”‚    â”‚ Service  â”‚      â”‚                  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜      â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚          â”‚               â”‚                                 â”‚
â”‚          â–¼               â–¼                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚     RDS PostgreSQL (Multi-AZ)       â”‚                  â”‚
â”‚  â”‚                                      â”‚                  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚                  â”‚
â”‚  â”‚  â”‚  Primary â”‚â—„â”€â”€â–ºâ”‚ Standby  â”‚      â”‚                  â”‚
â”‚  â”‚  â”‚          â”‚    â”‚          â”‚      â”‚                  â”‚
â”‚  â”‚  â”‚ Backups  â”‚    â”‚ Failover â”‚      â”‚                  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚     External Services               â”‚                  â”‚
â”‚  â”‚                                      â”‚                  â”‚
â”‚  â”‚  â€¢ XRPL Network (Mainnet)           â”‚                  â”‚
â”‚  â”‚  â€¢ Sentry (Error Tracking)          â”‚                  â”‚
â”‚  â”‚  â€¢ Datadog (Metrics)                â”‚                  â”‚
â”‚  â”‚  â€¢ CloudFlare (CDN + DDoS)          â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Version:** 3.0.0
**DerniÃ¨re mise Ã  jour:** 2025-01-29
**Auteur:** XRPact Hack For Good Team
